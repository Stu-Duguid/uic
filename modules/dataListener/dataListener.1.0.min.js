/*!
 * Copyright (c) 2021 Acoustic, L.P. All rights reserved.
 *
 * NOTICE: This file contains material that is confidential and proprietary to
 * Acoustic, L.P. and/or other developers. No license is granted under any intellectual or
 * industrial property rights of Acoustic, L.P. except as may be provided in an agreement with
 * Acoustic, L.P. Any unauthorized copying or distribution of content from this file is
 * prohibited.
 *
 */
TLT.addModule("dataListener",(function(t){"use strict";var a={},e=!1,n,i,r,o,d=0;return{init:function(){(a=t.getConfig()).dataObject&&(n=window[a.dataObject])&&Array.isArray(n)&&(e=!0,i=a.dataBlocklist||null,r=a.dataAllowList||null,o=a.dataKey||"event")},destroy:function(){e=!1},onevent:function(t){if(e){for(var a=d;n.length>a;a++){var l=n[a][o];if(l&&!(i&&-1!==i.indexOf(l)||r&&-1===r.indexOf(l))){for(var f in n[a])if(f.match(/\./)){var c=f.replace(/\./,"-");n[c]=n[f],delete n[f]}TLT.logDataLayer(n[a])}}d=a}},version:"1.2"}}));